<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        LeetCode 3397: Maximum Number of Distinct Elements After Operations (C++)
    </title>
    <link rel="stylesheet" href="/styles.css" />
    <script src="/solution.js"></script>
</head>

<body>
    <main>
        <h1>LeetCode 3397: Maximum Number of Distinct Elements After Operations (C++)</h1>
        <div class="problem-description">
            <p><strong>Problem:</strong>
                You are given an integer array nums and an integer k. You are allowed to perform the following operation
                on each element of the array at most once: Add an integer in the range [-k, k] to the element. Return
                the maximum possible number of distinct elements in nums after performing the operations.
            </p>
            <p><strong>Example:</strong>
                Input: nums = [1,2,2,3,3,4], k = 2 → Output: 6. Explanation: nums changes to [-1, 0, 1, 2, 3, 4] after
                performing operations. We add -2 to nums[0], -2 to nums[1], -1 to nums[2], -1 to nums[3], -1 to nums[4],
                and 0 to nums[5]. Input: nums = [4,4,4,4], k = 1 → Output: 3. Explanation: By adding -1 to nums[0] and 1
                to nums[1], nums changes to [3, 5, 4, 4].
            </p>
        </div>
        <div class="code-container">
            <button class="copy-button" onclick="copyCode(this)">Copy Code</button>
            <pre><code class="language-cpp">class Solution {
public:
    int maxDistinctElements(vector&lt;int&gt;&amp; nums, int k) {
        int ans = 0;
        int occupied = INT_MIN;  // Tracks last occupied distinct value
        
        ranges::sort(nums);  // Sort to process smallest numbers first
        
        for (const int num : nums)
            if (occupied &lt; num + k) {         // If we can assign a distinct value
                occupied = max(occupied + 1, num - k);  // Place as far left as possible
                ++ans;                          // Count as distinct
            }
        
        return ans;
    }
};</code></pre>
        </div>
        <a href="/" class="back-link">← Back to Home</a>
    </main>
</body>

</html>