<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        LeetCode 2110: Number of Smooth Descent Periods of a Stock (C++)
    </title>
    <link rel="stylesheet" href="/styles.css" />
    <script src="/solution.js"></script>
</head>

<body>
    <main>
        <h1>LeetCode 2110: Number of Smooth Descent Periods of a Stock (C++)</h1>
        <div class="problem-description">
            <p><strong>Problem:</strong>
                You are given an integer array prices representing the daily price history of a stock, where prices[i]
                is
                the stock price on the ith day. A smooth descent period of a stock consists of one or more contiguous
                days
                such that the price on each day is lower than the price on the preceding day by exactly 1. Return the
                number
                of smooth descent periods. For a descent of length L, it contributes L + (L-1) + ... + 1 = L*(L+1)/2
                periods,
                but we can compute this incrementally by adding the current length at each step.
            </p>
            <p><strong>Example:</strong>
                Input: prices = [3,2,1,4] → Output: 7. Smooth descent periods: [3], [2], [1], [4], [3,2], [2,1],
                [3,2,1].
                Input: prices = [8,6,7,7] → Output: 4. Only single-day periods are valid: [8], [6], [7], [7].
                Input: prices = [1] → Output: 1. Only one period: [1].
            </p>
        </div>
        <div class="code-container">
            <button class="copy-button" onclick="copyCode(this)">Copy Code</button>
            <pre><code class="language-cpp">class Solution {
public:
    long long getDescentPeriods(vector&lt;int&gt;&amp; p) {
        long long ans = 1, len = 1;
        int n = p.size();
        for (int i = 1; i &lt; n; i++) {
            if (p[i - 1] - p[i] == 1)
                len++;        // extend descent
            else
                len = 1;      // reset
            ans += len;       // every index adds its valid subarrays
        }
        return ans;
    }
};</code></pre>
        </div>
        <a href="/" class="back-link">← Back to Home</a>
    </main>
</body>

</html>