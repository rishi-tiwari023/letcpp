<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        LeetCode 3381: Maximum Subarray Sum With Length Divisible by K (C++)
    </title>
    <link rel="stylesheet" href="/styles.css" />
    <script src="/solution.js"></script>
</head>

<body>
    <main>
        <h1>LeetCode 3381: Maximum Subarray Sum With Length Divisible by K (C++)</h1>
        <div class="problem-description">
            <p><strong>Problem:</strong>
                You are given an array of integers nums and an integer k. Return the maximum sum of a non-empty subarray
                of nums, such that the size of the subarray is divisible by k. A subarray is a contiguous non-empty
                sequence
                of elements within an array. We need to find the maximum sum among all valid subarrays whose length is a
                multiple of k.
            </p>
            <p><strong>Example:</strong>
                Input: nums = [1,2], k = 1 → Output: 3. Since k=1, any subarray length is valid. Maximum sum is 1+2 = 3.
                Input: nums = [-1,-2,-3,-4,-5], k = 4 → Output: -10. The subarray [-1,-2,-3,-4] has length 4 and sum
                -10.
                Input: nums = [-5,1,2,-3,4], k = 2 → Output: 4. The subarray [1,2,-3,4] has length 4 (divisible by 2)
                with sum 4.
            </p>
        </div>
        <div class="code-container">
            <button class="copy-button" onclick="copyCode(this)">Copy Code</button>
            <pre><code class="language-cpp">class Solution {
public:
    long long maxSubarraySum(vector&lt;int&gt;&amp; a, int k) {
        long long ans = LLONG_MIN;
        long long pref = 0;
        // mp[r] = minimum prefix sum seen with index % k == r
        vector&lt;long long&gt; mp(k, LLONG_MAX / 2);
        mp[k - 1] = 0;  // base: prefix before starting
        for (int i = 0; i &lt; a.size(); i++) {
            pref += a[i];
            // subarray sum = pref - prevPrefix  (same mod class)
            ans = max(ans, pref - mp[i % k]);
            // update minimum prefix in this remainder class
            mp[i % k] = min(mp[i % k], pref);
        }
        return ans;
    }
};</code></pre>
        </div>
        <a href="/" class="back-link">← Back to Home</a>
    </main>
</body>

</html>